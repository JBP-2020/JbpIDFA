背景:
In iOS 10.0 and later, the value of advertisingIdentifier is all zeroes when the user has limited ad tracking.
也就是说在iOS10上，用户如果开启了 限制广告跟踪 , 获取的idfa将是一串 00000000-0000-0000-0000-000000000000


JbpIDFA:
JbpIDFA是根据一堆设备信息（每个app获取的值都是一样的）生成的一个MD5值。用于标志不同设备。


使用:
框架依赖:
CoreTelephony.framework
JbpIDFA.h、JbpIDFA.m两个文件

在需要获取 JbpIDFA的地方调用代码:
NSString *JbpIDFA = [JbpIDFA getJbpIDFA];
JbpIDFA的格式跟IDFA的格式一样 : DBEFA7C2-AE83-4185-B46E-433F9F4C6851


生成原理:
生成的MD5值分两部分。
以 DBEFA7C2-AE83-4185-B46E-433F9F4C6851 为例：
前16位DBEFA7C2-AE83-4185是由比较稳定的参数组合获得,这前16位只有在系统升级的情况下才会变。
后16位B46E-433F9F4C6851 由 一些比较容易被改变的参数组合生成，比较常见的值变化情况是系统重新启动。

参与前16位计算的参数有：
系统版本（14.0）、硬件信息（D10AP,iPhone9,1,中国联通,2099068928）、coreServices文件创建更新时间(2019-07-14 07:39:58 +0000,2020-09-17 01:57:58 +0000),磁盘容量(127983202304),内存容量(2099068928),系统(iOS)
这里有一些信息是升级的时候会变的，系统版本、coreServices文件创建更新时间、磁盘容量

参与后16位计算的参数有：
系统开机时间(1604978968去掉后面的4位数 160497)、国家代码(CN)、本地语言(zh-Hans-CN)、设备名称(XXXX)
这里的参数都是比较容易变化的，系统重启离上次重启有10000秒的话会变，其他参数在设置里面可以修改


JbpIDFA生成的ID重复的概率:
假设一个情况。一天内某个国家有10000000（1千万）台相同型号的设备升级到同一个系统。
JbpIDFA一天内这个算法可能的值计算， 24x3600（文件创建时间，单位秒）x 10（文件最后修改时间假设误差在10秒）x 10000000（系统容量误差范围）x 9000000(设备名称范围，这里假设的是每10台就有2个重复,名称范围就是 10000000x0.9)= 77760000000000000000。
设备a的值为 K，那么设备b的值同为K的可能性为： 1/77760000000000000000. 总共有 10000000台设备。因此，这10000000设备中有与a设备的值同为K的可能性为 1/77760000000000000000 x 10000000 = 1/7776000000000。

(UPDATE: iOS10.2 发布后 System/Library/CoreServices 文件夹的创建时间不能获取了。 这样最后算出来的与a可能有值相同的概率是 1/7776000000000 x 24 x 3600 = 1/90000000; ）


时效性:
SimulateIDFA
SimulateIDFA分两部分，前16位是在系统升级的时候才会变化，后16位用户的某些行为可能会导致值变化（例如：重启手机、修改设备名称、修改手机本地语言）

